<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventos - EventHub</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../stylesheets/style.css">
</head>
<body class="sidebar-expanded">
    <!-- Barra Lateral -->
    <div class="container-fluid d-flex">
        <div class="row">
            <div id="sidebar" class="col-sm-auto bg-light sticky-top expanded">
                <div class="d-flex flex-sm-column flex-row flex-nowrap bg-light align-items-center sticky-top">
                    <ul class="nav nav-pills nav-flush flex-sm-column mb-auto mx-auto text-center">
                        <li>
                            <a href="#" class="nav-link py-3 px-2">
                                <i class="bi bi-list fs-4"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link py-3 px-2" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Home">
                                <i class="bi bi-plus fs-4"></i>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link py-3 px-2" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Dashboard">
                                <i class="bi bi-star fs-4"></i>
                                <p>Inicio</p>
                            </a>
                        </li>
                        <li>
                            <a href="/admin/gerenciamento" class="nav-link py-3 px-2" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Customers">
                                <i class="bi bi-star fs-4"></i>
                                <p>Configs</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- Topo da página -->
        <header class="d-flex justify-content-end align-items-center p-3 bg-light">
            <div>
                <button type="button" class="notification btn position-relative">
                    <i class="bi bi-bell"></i>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                        9+
                        <span class="visually-hidden">unread messages</span>
                    </span>
                </button>
                <a href="/admin/dashboard">
                    <button type="button" class="btn bi bi-gear"></button>
                </a>
            </div>
        </header>
        <!-- Conteúdo Principal -->
        <main class="content">
            <div class="TitleEventos d-flex justify-content-start">
                <h1>Eventos</h1>
            </div>
            <!-- Categorias -->
             <div class="TitleCategories d-flex justify-content-start mt-5">
                <h2>Categorias</h2>
                <i class="bi bi-arrow-right fs-2 ms-4"></i>
             </div>
            <div class="d-flex gap-3 justify-content-start my-4">
                <% categorias.forEach(categoria => { %>
                    <a href="/categoria_evento/<%=categoria.codcategoria%>">
                        <button class="btn btn-secondary rounded-circle p-3"><%=categoria.nomecategoria%></button>
                    </a>
                <% }) %>
            </div>

            <!-- Eventos em Destaque -->
            <div class="TitleEventosEmDestaque d-flex justify-content-start mt-5">
                <h2>Eventos em Destaque</h2>
                <i class="bi bi-arrow-right fs-2 ms-4"></i>
            </div>
            <div class="containerBrowse d-flex justify-content-around p-3">
                <div class="row">
                    <% eventos.forEach(evento => { %>
                        <div class="card p-3 m-1" style="width: 18rem;">
                        <img src="<%=evento.imgevento%>" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title"><%=evento.nomeevento%></h5>
                            <p class="card-text"><%=evento.descevento%><p>
                            <div class="d-flex justify-content-around">
                                <a href="/evento/<%=evento.codevento%>" class="btn">Detalhes</a>
                                <form action="/favoritar/<%= evento.codevento %>" method="POST">
                                
                                    <% if (favoritosIds.includes(evento.codevento)) { %>
                                        <button type="submit" class="heart btn"><i class="bi bi-heart-fill"></i></button>
                                        <% } else { %>
                                            <button type="submit" class="heart btn"><i class="bi bi-heart"></i></button>
                                            <% } %>                       </form>
                            </div>
                        </div>
                    </div>
                    <% }) %>
                </div>
            </div>
        </main>

    </div>
</body>
</html>